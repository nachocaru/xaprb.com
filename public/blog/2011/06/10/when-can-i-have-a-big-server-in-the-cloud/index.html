<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      When can I have a big server in the cloud? &middot; Xaprb
    
  </title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/index.xml">
</head>


  <body class="layout-reverse sidebar-overlay">

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
	  <p>Xaprb &middot; Stay Curious!</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>
    <a class="sidebar-nav-item" href="/blog/">Posts</a>
    
        <a class="sidebar-nav-item" href="/about/">About</a>
    
        <a class="sidebar-nav-item" href="/essential-books/">Essential Books</a>
    
        <a class="sidebar-nav-item" href="/rx-toolkit/">Regex Toolkit</a>
    
  </nav>

  <div class="sidebar-item">
	  <p>&copy; 2015 Baron Schwartz.
	  Contact: moc.brpax@norab, <a href="https://twitter.com/xaprb">Twitter</a>,
	  <a href="https://linkedin.com/in/xaprb">LinkedIn</a>.
	      <br>Powered by <a href="http://hugo.spf13.com">Hugo</a>. <a
				href="/index.xml">RSS Feed</a></p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Xaprb</a>
            <small>Stay Curious!</small>
          </h3>
        </div>
      </div>

      <div class="container content">


<div class="post">
  <h1 class="post-title">When can I have a big server in the cloud?</h1>
  <span class="post-date">Fri, Jun 10, 2011 in
		
		<a href="/categories/databases" class="btn btn-primary">Databases</a>
		
		<a href="/categories/high-availability" class="btn btn-primary">High Availability</a>
		
		<a href="/categories/performance" class="btn btn-primary">Performance</a>
		
  </span>
  <p>I was at a conference recently talking with a Major Cloud Hosting Provider and mentioned that for database servers, I really want large instances, quite a bit larger than the largest I can get now. The lack of cloud servers with lots of memory, many <em>fast</em> cores, and fast I/O and network performance leads to premature sharding, which is costly. A large number of applications can currently run on a single real server, but would require sharding to run in any of the popular cloud providers&rsquo; environments. And many of those applications aren&rsquo;t growing rapidly, so by the time they outgrow today&rsquo;s hardware we can pretty much count on simply upgrading and staying on a single machine.</p>

<p>The person I was talking to actually seemed to become angry at me, and basically called me an idiot. This person&rsquo;s opinion is that no one should be running on anything larger than 4GB of memory, and anyone who doesn&rsquo;t build their system to be sharded and massively horizontally scaled is clueless.</p>

<p>I&rsquo;ve received similar push-back from a lot of cloud hosting providers. When I work through the math with clients, a lot of them don&rsquo;t like the ultimate price/performance ratio offered by cloud hosting. Hype doesn&rsquo;t drive everyone&rsquo;s business decisions, so a lot of people are wisely staying far away from cloud hosting for their applications, or even moving whole applications out of cloud hosting into real hardware to consolidate machines and save a lot of money. Some of them are using flash storage devices such as Fusion-io to further lower their TCO (this isn&rsquo;t the right answer for every app, though).</p>

<p>Why do cloud hosting providers work so hard to make everyone buy lots of anemic machines and shard their applications an order of magnitude more than is required? Why aren&rsquo;t they jumping to offer really beefy instances? I think there are a couple of simple reasons.</p>

<p>First, they want to colocate virtual machines and over-provision, just as airlines sell more tickets than there are seats in the plane. It&rsquo;s a numbers game: sell more capacity than you really have, and bet on some of the instances not using all resources allocated to them. Win! Of course, this is only possible with lots of small instances; the law of large numbers doesn&rsquo;t work without lots of instances, and large instances can&rsquo;t be colocated. Cloud providers tend to dislike dedicated instances, which leads to the second reason. They don&rsquo;t want to make strong claims about the availability of any particular machine. This is where the cloud paradigm of &ldquo;you must build to recover from machines vanishing without warning&rdquo; comes from. A dedicated beefy instance wouldn&rsquo;t let the hosting provider push that responsibility onto the application.</p>

<p>There are lots more reasons &ndash; all of them combining into one big overall &ldquo;cloud application architecture best practice&rdquo; &ndash; but I think those are two of the showstoppers.</p>

<p>I really think this is a wrong paradigm. People talk about the cloud being the technology of the future, but in many ways it&rsquo;s pretty stone-age compared to what smart system architects can achieve with high-quality hardware and networking at a much lower cost, with very strong guarantees of performance, consistency, and availability.</p>

<p>Cloud computing is new enough that we don&rsquo;t understand, in a collective sense, how to think about it. (I know that lots of individuals do, but as a whole, there isn&rsquo;t much of a shared understanding.) The real value proposition that I want to see emerge from cloud computing is pretty much orthogonal to what everyone&rsquo;s raving about these days. I want to see the DevOps engineering discipline build momentum around the idea that systems should be treated as services, with architectural components provisioned and controlled through APIs. That can be done completely independently of many of the characteristics of current cloud computing platforms (virtualization, ephemerality, horizontally scaled architectures&hellip;)</p>

<p>And like most people, I&rsquo;ve got an ego and I don&rsquo;t appreciate repeatedly being called a moron by cloud computing providers&rsquo; sales people, who don&rsquo;t know anything about running database servers. I can do math and understand price/performance, and I know the cost and difficulty of building a sharded application. I look forward to the day when I don&rsquo;t have to just bite my tongue and walk on to the next booth. I look forward to cloud hosting providers advancing to the year 2005 or so. I&rsquo;m sure it will happen as we figure this all out.</p>

<p>Feel free to comment, but don&rsquo;t expect me to approve your comment if you&rsquo;re from a cloud provider and you&rsquo;re plugging your platform :)</p>

                          <hr>
                        <h2>Comments</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                            (function() {
                                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
										  dsq.src = '//xaprb.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                            })();
                        </script>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>

